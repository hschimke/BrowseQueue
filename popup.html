<html>
<!--  Copyright 2010 Henry A Schimke

      Credit for the 'quick click' feature goes to
      Martin Weik <martin@weik.at>.  

      The code provided by Martin Weik is marked
      between the #Martin_Weik below. (Thank you!)
      
      Settings capture and checking written by Henry Schimke.

      See license.txt for details -->
<script type="text/javascript">
var enable_disable_function = function() {
		chrome.extension.getBackgroundPage().en_dis_func();
		window.close();
	};
var queue_pop_function = function() { 
		chrome.extension.getBackgroundPage().getNextBookmark();
		window.close();
	};

function startup(){
	var en_n = chrome.extension.getBackgroundPage().enable_next_button;
	if( !en_n ){
		document.getElementById( "pn" ).disabled = true;
	}
	
	if( localStorage["use_quick_click_mode"] == true || localStorage["use_quick_click_mode"] == 'true' ){
	    // #Martin_Weik -- Begin
	    var click_ref = chrome.extension.getBackgroundPage().click_ref;
	    if(en_n && !click_ref) {
		    //directly open next element
		    queue_pop_function();
	    }
	    // #Martin_Weik -- End
    }
}
</script>

<body onload="startup()">
<div>
	<button onClick="enable_disable_function();" id="enab_disab">
		<span><script>document.write( chrome.extension.getBackgroundPage().EnDisButtonText );</script></span>
	</button>
	<button onClick="queue_pop_function();" id="pn">
		<span><script>document.write( chrome.extension.getBackgroundPage().NextButtonMessage );</script></span>
	</button>
</div>
</body>
</html>
